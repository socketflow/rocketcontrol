## [Rocketcontrol] minimum but effective ruleset
#  made with love by socketflow
#  https://raw.githubusercontent.com/socketflow/rocketcontrol/master/rocketcontrol.conf

## References--------------------------------------
# https://github.com/blackmatrix7/ios_rule_script/tree/master/rule/Shadowrocket
# https://github.com/Hackl0us/SS-Rule-Snippet/tree/master/LAZY_RULES
# https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/LAZY_RULES/Shadowrocket.conf

[General]
bypass-system = true
#dns-server = 1.1.1.1, 119.29.29.29, 223.5.5.5
dns-server = https://1.0.0.1/dns-query, https://119.29.29.29/dns-query, https://223.5.5.5/dns-query
skip-proxy = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/3, localhost, *.local, *.lan, *.localdomain
bypass-tun = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/3
ipv6=true

[Rule]

# private：direct, done @[General]
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Lan/Lan.list, DIRECT

# dns vps：proxy
IP-CIDR,1.1.1.1/32,Proxy,no-resolve
IP-CIDR,1.0.0.1/32,Proxy,no-resolve
IP-CIDR,8.8.8.8/32,Proxy,no-resolve
IP-CIDR,8.8.4.4/32,Proxy,no-resolve
IP-CIDR,9.9.9.9/32,Proxy,no-resolve
IP-CIDR,208.67.222.222/32,Proxy,no-resolve
IP-CIDR,208.67.220.220/32,Proxy,no-resolve

# dns cn：direct
IP-CIDR,119.29.29.29/32,DIRECT,no-resolve
IP-CIDR,223.5.5.5/32,DIRECT,no-resolve
IP-CIDR,223.6.6.6/32,DIRECT,no-resolve
IP-CIDR,182.254.116.116/32,DIRECT,no-resolve
IP-CIDR,180.76.76.76/32,DIRECT,no-resolve
IP-CIDR,114.114.114.114/32,DIRECT,no-resolve
IP-CIDR,114.114.114.110/32,DIRECT,no-resolve
IP-CIDR,114.114.114.119/32,DIRECT,no-resolve
IP-CIDR,114.114.115.110/32,DIRECT,no-resolve
IP-CIDR,114.114.115.115/32,DIRECT,no-resolve
IP-CIDR,114.114.115.119/32,DIRECT,no-resolve

# proxy
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/iCloudPrivateRelay/iCloudPrivateRelay.list, PROXY
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GlobalMax/GlobalMax.list, PROXY
DOMAIN-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GlobalMax/GlobalMax_Domain.list, PROXY

# 广告屏蔽：block
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Hijacking/Hijacking.list, REJECT
DOMAIN-KEYWORD,admarvel,REJECT
DOMAIN-KEYWORD,admaster,REJECT
DOMAIN-KEYWORD,adsage,REJECT
DOMAIN-KEYWORD,adsmogo,REJECT
DOMAIN-KEYWORD,adsrvmedia,REJECT
DOMAIN-KEYWORD,adwords,REJECT
DOMAIN-KEYWORD,adservice,REJECT
DOMAIN-SUFFIX,appsflyer.com,REJECT
DOMAIN-KEYWORD,domob,REJECT
DOMAIN-SUFFIX,doubleclick.net,REJECT
DOMAIN-KEYWORD,duomeng,REJECT
DOMAIN-KEYWORD,dwtrack,REJECT
DOMAIN-KEYWORD,guanggao,REJECT
DOMAIN-KEYWORD,lianmeng,REJECT
DOMAIN-SUFFIX,mmstat.com,REJECT
DOMAIN-KEYWORD,mopub,REJECT
DOMAIN-KEYWORD,omgmta,REJECT
DOMAIN-KEYWORD,openx,REJECT
DOMAIN-KEYWORD,partnerad,REJECT
DOMAIN-KEYWORD,pingfore,REJECT
DOMAIN-KEYWORD,supersonicads,REJECT
DOMAIN-KEYWORD,uedas,REJECT
DOMAIN-KEYWORD,umeng,REJECT
DOMAIN-KEYWORD,usage,REJECT
DOMAIN-SUFFIX,vungle.com,REJECT
DOMAIN-KEYWORD,wlmonitor,REJECT
DOMAIN-KEYWORD,zjtoolbar,REJECT

# 中国网站：direct
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMax/ChinaMax.list, DIRECT
DOMAIN-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMax/ChinaMax_Domain.list, DIRECT

# 中国IP：direct
GEOIP, CN, DIRECT

# 兜底：direct
FINAL, PROXY
